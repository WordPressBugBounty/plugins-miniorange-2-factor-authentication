function ajaxCall(e,o,s){let t=settings_page_object.nonce;jQuery.ajax({url:"",type:"GET",data:"option="+e+"&nonce="+t,crossDomain:!0,dataType:"json",contentType:"application/json; charset=utf-8",success:function(e){void 0!=s&&jQuery(o).slideUp()},error:function(e,o,s){}})}function success_msg(e){jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='overlay_success' style='z-index:9999'><div class='popup_text'>"+e+"</div></div>"),window.onload=nav_popup()}function error_msg(e){jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='overlay_error'><div class='popup_text'>"+e+"</div></div>"),window.onload=nav_popup()}function saveSettingsSuccessMsg(e,o){jQuery("."+e).after('<div class="mo2f-save-settings-success-message">'+o+"</div>"),setTimeout(function(){jQuery(".mo2f-save-settings-success-message").fadeOut(function(){$(this).remove()}),jQuery("#"+e).prop("disabled",!1)},3e3)}function saveSettingsErrorsMsg(e,o){jQuery("."+e).after('<div class="mo2f-save-settings-error-message">'+o+"</div>"),setTimeout(function(){jQuery(".mo2f-save-settings-error-message").fadeOut("hidden"),jQuery("#"+e).prop("disabled",!1)},3e3)}function nav_popup(){null!==document.getElementById("notice_div")&&(document.getElementById("notice_div").style.width="40%",setTimeout(function(){jQuery("#notice_div").fadeOut("slow")},3e3))}jQuery(document).ready(function(){let e=localStorage.getItem("activeTemplate")||"mo2f_email_template_otp_btn";switchEmailTemplates(e),jQuery('[id^="mo2f_email_template_"]').click(function(){let e=jQuery(this).attr("id");switchEmailTemplates(e)});let o=localStorage.getItem("activeTab")||"mo2f_registered_users_btn";switchTwofaStatus(o),jQuery("#mo2f_registered_users_btn").click(function(){!jQuery(this).hasClass("mo2f-active")&&switchTwofaStatus("mo2f_registered_users_btn")}),jQuery("#mo2f_unregistered_users_btn").click(function(){!jQuery(this).hasClass("mo2f-active")&&switchTwofaStatus("mo2f_unregistered_users_btn")}),settings_page_object.nonce,($=jQuery)("#auth_help").click(function(){$("#auth_troubleshoot").toggle()}),$("#conn_help").click(function(){$("#conn_troubleshoot").toggle()}),$("#conn_help_user_mapping").click(function(){$("#conn_user_mapping_troubleshoot").toggle()}),$("#toggle_am_content").click(function(){$("#show_am_content").toggle()}),$("#mo_wpns_help_curl_title").click(function(){$("#mo_wpns_help_curl_desc").slideToggle(600)}),$("#mo_wpns_help_refund_title").click(function(){$("#mo_wpns_help_refund_desc").slideToggle(600)}),$("#mo_wpns_issue_in_scanning_QR").click(function(){$("#mo_wpns_issue_in_scanning_QR_solution").slideToggle(600)}),$("#mo_wpns_help_get_back_to_account").click(function(){$("#mo_wpns_help_get_back_to_account_solution").slideToggle(600)}),$("#mo_wpns_help_multisite").click(function(){$("#mo_wpns_help_multisite_solution").slideToggle(600)}),$("#mo_wpns_help_adv_user_ver_title").click(function(){$("#mo_wpns_help_adv_user_ver_desc").slideToggle(600)}),$("#mo_wpns_help_forgot_password").click(function(){$("#mo_wpns_help_forgot_password_solution").slideToggle(600)}),$("#mo_wpns_help_MFA_propmted").click(function(){$("#mo_wpns_help_MFA_propmted_solution").slideToggle(600)}),$("#mo_wpns_help_redirect_back").click(function(){$("#mo_wpns_help_redirect_back_solution").slideToggle(600)}),$("#mo_wpns_help_alternet_login").click(function(){$("#mo_wpns_help_alternet_login_solution").slideToggle(600)}),$("#mo_wpns_help_lost_ability").click(function(){$("#mo_wpns_help_lost_ability_solution").slideToggle(600)}),$("#mo_wpns_help_translate").click(function(){$("#mo_wpns_help_translate_solution").slideToggle(600)}),$("#mo_wpns_help_particular_use_role").click(function(){$("#mo_wpns_help_particular_use_role_solution").slideToggle(600)}),$("#mo_wpns_help_enforce_MFA").click(function(){$("#mo_wpns_help_enforce_MFA_solution").slideToggle(600)}),$("#mo_wpns_help_reset_MFA").click(function(){$("#mo_wpns_help_reset_MFA_solution").slideToggle(600)}),$(".backup_codes_dismiss").click(function(){ajaxCall("dismisscodeswarning",".backupcodes-notice",!0)}),$(".whitelist_self").click(function(){ajaxCall("whitelistself",".whitelistself-notice",!0)}),$(".sms_low_dismiss").click(function(){ajaxCall("dismissSms",".low_sms-notice",!0)}),$(".sms_low_dismiss_always").click(function(){ajaxCall("dismissSms_always",".low_sms-notice",!0)}),$(".email_low_dismiss").click(function(){ajaxCall("dismissEmail",".low_email-notice",!0)}),$(".email_low_dismiss_always").click(function(){ajaxCall("dismissEmail_always",".low_email-notice",!0)}),$(".new_plugin_dismiss").click(function(){ajaxCall("dismissplugin",".plugin_warning_hide-notice",!0)}),$(".plugin_warning_never_show_again").click(function(){ajaxCall("plugin_warning_never_show_again",".plugin_warning_hide-notice",!0)}),$(".mo2f_banner_never_show_again").click(function(){ajaxCall("mo2f_banner_never_show_again",".mo2f_offer_main_div",!0)}),$(".wpns_premium_option :input").attr("disabled",!0),$("#setuptwofa_redirect").click(function(e){localStorage.setItem("last_tab","setup_2fa")}),jQuery(".mo2f-premium-feature").find("a, input, button, select").each(function(){jQuery(this).is("a")?jQuery(this).on("click",function(e){e.preventDefault()}).css("pointer-events","none").css("color","gray"):jQuery(this).is("button")?jQuery(this).prop("disabled",!0).css("pointer-events","none").css("background-color","#cccccc"):jQuery(this).prop("disabled",!0).css("pointer-events","none")})});var countDownDate=new Date("Jan 15, 2022 23:59:59").getTime(),x=setInterval(function(){var e=new Date().getTime(),o=countDownDate-e;null!=document.getElementById("mo2f_offer_timer")&&(document.getElementById("mo2f_offer_timer").innerHTML=Math.floor(o/864e5)+"d "+Math.floor(o%864e5/36e5)+"h "+Math.floor(o%36e5/6e4)+"m "+Math.floor(o%6e4/1e3)+"s "),o<0&&(clearInterval(x),null!=document.getElementById("mo2f_offer_timer")&&(document.getElementById("mo2f_offer_timer").innerHTML="EXPIRED"))},1e3);function mo2FASupportOnClick(e){($mo=jQuery)("#contact-us-toggle").prop("checked",!0),$mo(".mo2fa_contactus_popup_container").show(),$mo("#mo-contact-form").show(),$mo(".mo_contactus_popup_wrapper").show()}function mo_2fa_contactus_goback(){$mo(".mo2f-scrollable-div").removeAttr("style"),$mo(".mo2fa_contactus_popup_container").hide(),$mo(".mo_contactus_popup_wrapper").hide(),$mo("#mo-contact-form").hide()}function getlicensekeysform(){jQuery("#mo2f_view_licensekey_form").submit()}function mo2f_enable_login_transactions_toggle(){var e={action:"mo2f_advance_settings_ajax",option:"mo2f_enable_transactions_report",nonce:settings_page_object.contactus_nonce,mo2f_enable_transaction_report:jQuery("#mo2f_enable_login_report").is(":checked")};jQuery.post(ajaxurl,e,function(e){"true"==e?success_msg("Login report is enabled."):"false"==e?error_msg("Login report is disabled."):error_msg(e.data)})}function removeRememberedDevice(e,o){var s={action:"mo2f_advance_settings_ajax",option:"mo2f_remove_remembered_device",user_id:e,fingerprint:o,nonce:settings_page_object.contactus_nonce};jQuery.post(ajaxurl,s,function(s){s.success?(jQuery("#"+e+o).css("display","none"),success_msg(s.data)):error_msg(s.data)})}function switchEmailTemplates(e){localStorage.setItem("activeTemplate",e),Object.entries({mo2f_email_template_otp_btn:"#mo2f_email_subject",mo2f_email_template_link_btn:"#mo2f_email_ver_subject",mo2f_email_template_reconfig_link_btn:"#mo2f_2fa_reconfig_email_subject",mo2f_email_template_backupcode_btn:"#mo2f_2fa_backup_code_email_subject",mo2f_email_template_new_ip_btn:"#mo2f_2fa_new_ip_detected_email_subject"}).forEach(([o,s])=>{let t=o===e;jQuery(s).toggleClass("hidden",!t),jQuery(`#${o}`).toggleClass("mo2f-active",t)}),jQuery("#mo2f_backup_code_email_template_config_message_ifr").css("height","522px"),jQuery("#mo2f_reconfig_link_email_template_config_message_ifr").css("height","444px"),jQuery("#mo2f_new_ip_detected_email_template_config_message_ifr").css("height","405px"),jQuery("#mo2f_out_of_band_email_template_config_message_ifr").css("height","444px"),jQuery("#mo2f_otp_over_email_template_config_message_ifr").css("height","405px")}function switchTwofaStatus(e){localStorage.setItem("activeTab",e);let o=jQuery("#mo2f_registered_users_btn"),s=jQuery("#mo2f_unregistered_users_btn");"mo2f_registered_users_btn"===e?(jQuery("#mo2f_registered_user_details").show(),jQuery("#mo2f_unregistered_user_details").hide(),o.addClass("mo2f-active"),s.removeClass("mo2f-active"),DataTable.isDataTable("#mo2f_unregistered_user_details")&&jQuery("#mo2f_unregistered_user_details").DataTable().destroy(),jQuery("#mo2f_registered_user_details").DataTable({order:[[0,"desc"]]})):(jQuery("#mo2f_unregistered_user_details").show(),jQuery("#mo2f_registered_user_details").hide(),o.removeClass("mo2f-active"),s.addClass("mo2f-active"),DataTable.isDataTable("#mo2f_registered_user_details")&&jQuery("#mo2f_registered_user_details").DataTable().destroy(),jQuery("#mo2f_unregistered_user_details").DataTable({order:[[0,"desc"]]}))}function mo2fShowLoader(){jQuery("#mo2f_2fa_popup_dashboard").html("<span class='mo2f_loader' id='mo2f_loader'></span>"),jQuery("#mo2f_2fa_popup_dashboard").css("display","block")}function mo2fCloseLoader(){jQuery("#mo2f_2fa_popup_dashboard").css("display","none")}jQuery(document).ready(function(e){let o=settings_page_object.contactus_nonce;e("#mo2f_send_query").click(function(){var s={action:"mo_two_factor_ajax",mo_2f_two_factor_ajax:"mo2f_handle_support_form",nonce:o,mo2f_send_configuration:e("input[name=mo2f_send_configuration]").is(":checked"),mo2f_query_email:e("input[name=mo2f_query_email]").val(),mo2f_query_phone:e("input[name=mo2f_query_phone]").val(),mo2f_query:e("#mo2f_query").val()};e.post(ajaxurl,s,function(e){e.success?(success_msg(e.data),window.location.reload(!0)):error_msg(e.data)})})}),jQuery(document).ready(function(){jQuery("#mo_logout").click(function(){jQuery("#mo2f_2fa_popup_dashboard").html("<span class='mo2f_loader' id='mo2f_loader'></span>"),jQuery("#mo2f_2fa_popup_dashboard").css("display","block");var e={action:"mo_two_factor_ajax",mo_2f_two_factor_ajax:"mo2f_remove_miniorange_account",nonce:settings_page_object.contactus_nonce};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),e.success?(success_msg(e.data),window.location.reload(!0)):error_msg(e.data)})}),jQuery("#mo2f_transaction_check").click(function(){mo2fShowLoader();var e={action:"mo_two_factor_ajax",mo_2f_two_factor_ajax:"mo2f_check_transactions",nonce:settings_page_object.contactus_nonce};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),success_msg(e.data)})}),jQuery("#mo2f_check_license").click(function(){mo2fShowLoader();var e={action:"mo2f_two_factor_ajax",option:"mo2f_verify_license",nonce:settings_page_object.contactus_nonce,mo2fa_licence_key:jQuery("input[name=mo2fa_licence_key]").val(),license_consent:jQuery("#license_conditions").is(":checked")};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),e.success?(success_msg(e.data),window.location.reload(!0)):error_msg(e.data)})}),jQuery("#mo2f_go_back_account").click(function(){mo2fShowLoader();var e={action:"mo2f_two_factor_ajax",option:"mo_2fa_back_account",nonce:settings_page_object.contactus_nonce};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),e.success?window.location.reload(!0):error_msg(e.data)})}),jQuery("#mo2f_clear_login_report").click(function(){if(jQuery('#mo2f_login_transactions_table tbody tr:contains("No data available in table")').length>0){error_msg("No data available to clear.");return}mo2fShowLoader();var e={action:"mo2f_advance_settings_ajax",option:"mo_wpns_manual_clear",nonce:settings_page_object.contactus_nonce};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),!0===e.success?(jQuery("#mo2f_login_transactions_table tbody").empty(),jQuery("#mo2f_login_transactions_table tbody").append('<tr><td colspan="4">No data available in table</td></tr>'),success_msg("Report cleared successfully.")):error_msg("Unknown error occurred. Please try again!")})}),jQuery("#mo2f_login_transactions_table").DataTable({order:[[3,"desc"]]}),jQuery("#mo2f_passwordless_login_save_button").click(function(){mo2fShowLoader();var e={action:"mo2f_advance_settings_ajax",option:"mo2f_passwordless_login_settings",login_with_password:jQuery('input[name="mo2f_login_option"]:checked').val(),enable_login_with_2fa:jQuery("#mo2f_enable_passwordless_login").is(":checked"),nonce:settings_page_object.contactus_nonce};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),e.success?success_msg(e.data):error_msg(e.data)})}),jQuery("#mo2f-showpreview").on("click",function(){jQuery("#mo2f-preview1").is(":visible")||jQuery("#mo2f-preview2").is(":visible")?(jQuery("#mo2f-preview2").hide(),jQuery("#mo2f-preview1").hide(),jQuery("#mo2f-showpreview").html("Show Preview")):(jQuery("#mo2f-preview1").is(":hidden")||jQuery("#mo2f-preview2").is(":hidden"))&&(jQuery("#mo2f_enable_passwordless_login").is(":checked")?jQuery("#mo2f-preview2").show():jQuery("#mo2f-preview1").show(),jQuery("#mo2f-showpreview").html("Hide Preview"))}),jQuery("#mo2f-showpreview2").on("click",function(){jQuery("#mo2f-preview2").is(":visible")?(jQuery("#mo2f-preview2").hide(),jQuery("#mo2f-showpreview2").html("Show Preview")):jQuery("#mo2f-preview2").is(":hidden")&&(jQuery("#mo2f-preview2").show(),jQuery("#mo2f-showpreview2").html("Hide Preview"))}),jQuery("#mo2f_with_password").is(":checked")&&jQuery("#mo2f-pwdless-login-content").hide(),jQuery('input[name="mo2f_login_option"]').on("change",function(){jQuery("#mo2f_without_password").is(":checked")?jQuery("#mo2f-pwdless-login-content").slideDown():jQuery("#mo2f_with_password").is(":checked")&&jQuery("#mo2f-pwdless-login-content").slideUp()}),jQuery("#mo2f_with_password").on("click",function(){jQuery("#mo2f_enable_passwordless_login").prop("checked",!1)}),jQuery("#mo2f_enable_passwordless_login").on("change",function(){jQuery(this).is(":checked")?(jQuery("#mo2f_without_password").prop("checked",!0),jQuery("#mo2f-preview1").is(":visible")&&(jQuery("#mo2f-preview1").hide(),jQuery("#mo2f-preview2").show())):jQuery("#mo2f-preview2").is(":visible")&&(jQuery("#mo2f-preview2").hide(),jQuery("#mo2f-preview1").show())}),jQuery("#mo2f_email_verification_response_reset_button").click(function(){jQuery("#mo2f_login_popup_reset_button_form2").submit()}),jQuery("#mo2f_session_restriction_save_button").click(function(){mo2fShowLoader();var e={action:"mo2f_advance_settings_ajax",option:"mo2f_save_session_management_settings",enable_session_setting:jQuery("#mo2f_sesssion_restriction").is(":checked"),enable_session_expiry:jQuery("#mo2f_session_logout_time_enable").is(":checked"),max_sessions_allowed:jQuery('input[name="mo2fa_simultaneous_session_allowed"]').val(),max_sessions_time:jQuery('input[name="mo2f_number_of_timeout_hours"]').val(),restriction_type:jQuery('input[name="mo2f_enable_simultaneous_session"]:checked').val(),nonce:settings_page_object.contactus_nonce};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),e.success?success_msg(e.data):error_msg(e.data)})}),jQuery("#mo2f_sesssion_restriction").is(":checked")||jQuery("#mo2f_simultaneous_sessions_content").hide(),jQuery("#mo2f_sesssion_restriction").on("change",function(){jQuery(this).is(":checked")?jQuery("#mo2f_simultaneous_sessions_content").slideDown():jQuery("#mo2f_simultaneous_sessions_content").slideUp()}),jQuery("#mo2f_session_logout_time_enable").is(":checked")||jQuery("#mo2f_session_expiry_time_content").hide(),jQuery("#mo2f_session_logout_time_enable").on("change",function(){jQuery(this).is(":checked")?jQuery("#mo2f_session_expiry_time_content").slideDown():jQuery("#mo2f_session_expiry_time_content").slideUp()}),jQuery("#mo2f_rba_save_button").click(function(){mo2fShowLoader();var e={action:"mo2f_advance_settings_ajax",option:"mo2f_save_rba_settings",enable_rba:jQuery("#mo2f_check_rba").is(":checked"),rba_type:jQuery('input[name="mo2f_enable_rba_types"]:checked').val(),nonce:settings_page_object.contactus_nonce,rba_device_limit:jQuery('input[name="mo2fa_device_limit"]').val(),rba_expiry:jQuery('input[name="mo2fa_device_expiry"]').val(),rba_login:jQuery('input[name="mo2f_rba_login_limit"]:checked').val()};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),e.success?success_msg(e.data):error_msg(e.data)})}),jQuery("#mo2f_check_rba").is(":checked")||jQuery("#mo2f-rba-content").hide(),jQuery("#mo2f_check_rba").on("change",function(){jQuery(this).is(":checked")?jQuery("#mo2f-rba-content").slideDown():jQuery("#mo2f-rba-content").slideUp()}),jQuery("#mo2f_upload_logo_reset_button").click(function(){jQuery("#mo2f_upload_logo_reset_button_form").submit()}),jQuery("#mo2f_enable_login_popup_customization").click(function(){var e={action:"mo2f_white_labelling_ajax",option:"mo2f_login_popup_customization",nonce:settings_page_object.whitelabeling_nonce,customization_enabled:jQuery("#mo2f_enable_login_popup_customization").is(":checked")};jQuery.post(ajaxurl,e,function(e){e.success?success_msg(e.data):error_msg(e.data)})}),jQuery("#mo2f_login_popup_reset_button").click(function(){jQuery("#mo2f_login_popup_reset_button_form").submit()}),jQuery("#mo2f_backup_code_email_template_reset_button").click(function(){jQuery("#mo2f_backup_code_email_reset_form").submit()}),jQuery("#mo2f_reconfig_link_email_template_reset_button").click(function(){jQuery("#mo2f_reconfig_link_email_reset_form").submit()}),jQuery("#mo2f_out_of_band_email_template_reset_button").click(function(){jQuery("#mo2f_out_of_band_email_reset_form").submit()}),jQuery("#mo2f_otp_over_email_template_reset_button").click(function(){jQuery("#mo2f_otp_over_email_reset_form").submit()}),jQuery("#mo2f_new_ip_detected_email_template_reset_button").click(function(){jQuery("#mo2f_new_ip_detected_email_reset_form").submit()})}),jQuery(document).ready(function(){function e(){jQuery(".mo2f_kba_body").each(function(e){jQuery(this).find("td:first").text("Q"+(e+1)+":"),jQuery(this).find("input").attr("id","mo2f_kbaquestion_custom_admin_"+(e+1))})}jQuery("#login_reports").DataTable({order:[[3,"desc"]]}),jQuery("#mo2f_google_appname_save_button").click(function(){mo2fShowLoader();var e={action:"mo2f_white_labelling_ajax",option:"mo2f_google_app_name",nonce:jQuery("#mo2f_nonce").val(),mo2f_google_auth_appname:jQuery("#mo2f_change_app_name").val()};jQuery.post(ajaxurl,e,function(e){mo2fCloseLoader(),e.success?success_msg("App name saved successfully!"):error_msg(e.data)})}),jQuery(document).on("click",".mo2f_add_question",function(){let o=jQuery(this).closest("tr"),s=jQuery(".mo2f_kba_table"),t=s.find("tr").length,n=t+1,i=o.clone();i.find("td:first").text(`Q${n}:`),i.find("input").attr("id",`mo2f_kbaquestion_custom_admin_${n}`).val(""),i.find("input").attr("placeholder","Enter your custom question here"),o.after(i),e()}),jQuery(document).on("click",".mo2f_remove_question",function(){let o=jQuery(".mo2f_kba_body").length;o>3?(jQuery(this).closest("tr").remove(),e()):error_msg("At least three questions must remain.")}),jQuery("#mo2f-save-custom-kba-settings").on("click",function(e){e.preventDefault();let o=!0,s=[];if(jQuery('input[name="mo2f_kbaquestion_custom_admin[]"]').each(function(){let e=jQuery(this).val().trim();if(""===e)return error_msg("All custom question fields must be filled."),o=!1,!1;s.push(e)}),!o)return!1;let t=parseInt(jQuery("#mo2f_default_kbaquestions_users").val())||2;if(t>s.length)return error_msg("Default question count cannot exceed the number of available custom questions."),!1;if(o){mo2fShowLoader();let n={action:"mo2f_white_labelling_ajax",option:"mo2f_custom_security_questions_settings",nonce:jQuery("#mo2f_whitelabelling_nonce").val(),mo2f_default_kbaquestions_users:t,mo2f_custom_kbaquestions_users:jQuery("#mo2f_custom_kbaquestions_users").val(),mo2f_kbaquestion_custom_admin:s};jQuery.post(ajaxurl,n,function(e){mo2fCloseLoader(),e.success?success_msg("Settings saved successfully!"):error_msg(e.data)})}}),jQuery("#mo2f_custom_security_questions_reset_button").click(function(){jQuery("#mo2f_login_popup_reset_button_form_second").submit()})}),jQuery(document).ready(function(){jQuery("#mo2f_device_details").DataTable({order:[[3,"desc"]]})}),document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("mo_2fa_my_account"),o=document.getElementById("mo2f-myaccount-submenu");e.addEventListener("mouseenter",function(){o.style.display="block"}),jQuery("#mo_2fa_my_account").hasClass("side-nav-active")||(e.addEventListener("mouseleave",function(){o.style.display="none"}),o.addEventListener("mouseleave",function(){o.style.display="none",e.classList.remove("mo2f-hovered")})),o.addEventListener("mouseenter",function(){e.classList.add("mo2f-hovered"),o.style.display="block"})});