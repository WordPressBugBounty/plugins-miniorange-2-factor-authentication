function mo2fa_viewMethod(e,a){var n,t,o,i=jQuery("input[name='is_registered']").val(),s=a.replace(/ /g,"");for(jQuery("#method").val(a),t=document.getElementsByClassName("mo2fa_tabcontent"),n=0;n<t.length;n++)t[n].style.display="none";for(n=0,o=document.getElementsByClassName("mo2fa_tablinks");n<o.length;n++)o[n].className=o[n].className.replace(" active","");mo2fa_viewMethod.calledTimes++,jQuery("#mo2fa_count").val(mo2fa_viewMethod.calledTimes),document.getElementById(a).style.display="block",e.currentTarget.className+=" active";var p=jQuery("input[name='same_user']").val(),d="textbox-"+s,r=document.getElementById(d);"SecurityQuestions"==a?document.getElementById("mo2f_kbaquestion_1").focus():"OTPOverSMS"==a&&i?document.getElementById("textbox-SMS").focus():null!==r&&p&&(i&&"EmailVerification"!=s&&"OTPOverEmail"!=s||!i&&("GoogleAuthenticator"==s||"AuthyAuthenticator"==s||"SecurityQuestions"==s))&&document.getElementById(d).focus();var c=jQuery("#save-"+s),v=jQuery("#mo2f_verify_form-"+s);jQuery(v).submit(function(e){e.preventDefault(),jQuery(c).click()});var m=jQuery("input[name='MO2F_IS_ONPREM']").val();if(0==m&&1!=i){jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; <b>Please register with miniOrange for using this method</b> </div></div>"),window.onload=nav_popup();return}for(method of["miniOrangeQRCodeAuthentication","miniOrangeSoftToken","miniOrangePushNotification","OTPOverSMS","miniOrangeAuthenticator"])(a!=method||1==i)&&m||(jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; <b>Please register with miniOrange for using this method</b> </div></div>"),window.onload=nav_popup())}function set_mo_methods(e){jQuery("#textbox-"+e);var a=jQuery("#textbox-miniOrangeAuthenticator").val(),n=jQuery("input[name='mo-two-factor-ajax-nonce']").val(),t=jQuery("input[name='transient_id']").val();jQuery("input[name='is_registered']").val()?jQuery.post(ajaxurl,{action:"mo_two_factor_ajax",mo_2f_two_factor_ajax:"mo2f_set_miniorange_methods",nonce:n,code:a,transient_id:t},function(e){var e=e.data;"SUCCESS"==e.status&&$("#mo2f_configuration_status").val(e.status),jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='"+("SUCCESS"==e.status?"mo2fa_overlay_success":"mo2fa_overlay_error")+"'><div class='mo2fa_popup_text'>&nbsp; &nbsp; <b>"+e.status+"</b> : "+e.message+"</div></div>"),window.onload=nav_popup()}):(jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; <b>Please register with miniOrange for using this  method</b> </div></div>"),window.onload=nav_popup())}function mo2f_set_2fa_authentication(){var e=jQuery("#mo2f_enable_user_profile_2fa_nonce").val(),a=jQuery("input[name='mo2f_enable_userprofile_2fa']").is(":checked");jQuery.post(ajaxurl,{action:"mo_two_factor_ajax",mo_2f_two_factor_ajax:"mo2f_enable_twofactor_userprofile",nonce:e,is_enabled:a},function(e){jQuery("#wpns_nav_message").empty(),e?success_msg("Setup 2FA is enabled."):error_msg("Setup 2FA is disabled."),window.onload=nav_popup()})}function success_msg(e){jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_success' style='z-index:9999'><div class='mo2fa_popup_text'>"+e+"</div></div>"),window.onload=nav_popup()}function error_msg(e){jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>"+e+"</div></div>"),window.onload=nav_popup()}function nav_popup(){null!==document.getElementById("notice_div")&&(document.getElementById("notice_div").style.width="40%",setTimeout(function(){jQuery("#notice_div").fadeOut("slow")},3e3))}function mo2fa_set_ga(e){var a=jQuery("input[name='mo-two-factor-ajax-nonce']").val(),n=jQuery("input[name='transient_id']").val(),t=jQuery("input[name='ga_secret']").val(),o=jQuery("input[name='mo2f_enable_userprofile_2fa']").is(":checked");jQuery.post(ajaxurl,{action:"mo_two_factor_ajax",mo_2f_two_factor_ajax:"mo2f_set_GA",nonce:a,code:e,transient_id:n,ga_secret:t,is_2fa_enabled:o},function(e){jQuery("#wpns_nav_message").empty(),"SUCCESS"==e.data?(jQuery("#mo2f_configuration_status").val(e.data),jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_success'><div class='mo2fa_popup_text'>&nbsp; &nbsp; <b>SUCCESS</b> : Entered Passcode is correct. Click on Update Profile.</div></div>")):"2fadisabled"==e?jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; Please enable the set 2-factor authentication option.</div></div>"):"UserIdNotFound"==e.data?jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; Error occured validating the user. </div></div>"):jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; <b>ERROR</b> : Entered Passcode is incorrect. </div></div>"),window.onload=nav_popup()})}jQuery("#mo2f_qrcode").hide(),jQuery(".mo2f_miniAuthApp").click(function(){jQuery("#mo2f_qrcode").show(),jQuery("#mo2fa_display_mo_methods").hide(),jQuery('input[name="miniOrangeAuthenticator"]:checked').val()}),jQuery(".mo2f_miniAuthApp").click(function(){jQuery('input[name="miniOrangeAuthenticator"]:checked').val()}),jQuery("#miniOrangeSoftTokenButton").click(function(){jQuery("#method").val(user_profile_object.miniOrangeSoftToken),jQuery("#save-miniOrangeAuthenticator").click(function(e){set_mo_methods("miniOrangeSoftToken")})}),jQuery("#miniOrangeQRCodeAuthenticationButton").click(function(){jQuery("#method").val(user_profile_object.miniOrangeQRCodeAuthentication),jQuery("#save-miniOrangeAuthenticator").click(function(e){set_mo_methods("miniOrangeQRCodeAuthentication")})}),jQuery("#miniOrangePushNotificationButton").click(function(){jQuery("#method").val(user_profile_object.miniOrangePushNotification),jQuery("#save-miniOrangeAuthenticator").click(function(e){set_mo_methods("miniOrangePushNotification")})});var MO2F_IS_ONPREM=jQuery("input[name='MO2F_IS_ONPREM']").val();if(1==MO2F_IS_ONPREM&&jQuery(document).ready(function(){jQuery(".mo2f_gauth").qrcode({render:"image",size:175,text:jQuery(".mo2f_gauth").data("qrcode")})}),jQuery("#save-GoogleAuthenticator").click(function(e){mo2fa_set_ga(jQuery("#textbox-GoogleAuthenticator").val())}),jQuery("#save-AuthyAuthenticator").click(function(e){mo2fa_set_ga(jQuery("#textbox-AuthyAuthenticator").val())}),jQuery("#save-SMS").click(function(e){var a=jQuery("input[name='mo-two-factor-ajax-nonce']").val(),n=jQuery("input[name='transient_id']").val(),t=jQuery("#textbox-SMS").val(),o=jQuery("input[name='is_registered']").val(),i=jQuery("input[name='mo2f_enable_userprofile_2fa']").is(":checked");o?jQuery.post(ajaxurl,{action:"mo_two_factor_ajax",mo_2f_two_factor_ajax:"mo2f_set_otp_over_sms",nonce:a,transient_id:n,phone:t,is_2fa_enabled:i},function(e){jQuery("#wpns_nav_message").empty(),"UserIdNotFound"==e.data?jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; Error occured validating the user. </div></div>"):"2fadisabled"==e?jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; Please enable the set 2-factor authentication option.</div></div>"):e.success?jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_success'><div class='mo2fa_popup_text'>&nbsp; &nbsp; Phone no. has been saved. Click on Update Profile.</div></div>"):jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; There was an error saving your phone no. </div></div>"),window.onload=nav_popup()}):(jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; <b>Please register with miniOrange for using this  method</b> </div></div>"),window.onload=nav_popup())}),jQuery("#save-WHATSAPP").click(function(e){var a=jQuery("input[name='mo-two-factor-ajax-nonce']").val(),n=jQuery("input[name='transient_id']").val(),t=jQuery("#textbox-WHATSAPP").val(),o=jQuery("input[name='is_registered']").val(),i=jQuery("input[name='mo2f_enable_userprofile_2fa']").is(":checked");o?jQuery.post(ajaxurl,{action:"mo_two_factor_ajax",mo_2f_two_factor_ajax:"mo2f_set_otp_over_whatsapp",nonce:a,transient_id:n,phone:t,is_2fa_enabled:i},function(e){jQuery("#wpns_nav_message").empty(),"UserIdNotFound"==e.data?jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; Error occured validating the user. </div></div>"):"2fadisabled"==e?jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; Please enable the set 2-factor authentication option.</div></div>"):e.success?jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_success'><div class='mo2fa_popup_text'>&nbsp; &nbsp; Phone no. has been saved. Click on Update Profile.</div></div>"):jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; There was an error saving your phone no. </div></div>"),window.onload=nav_popup()}):(jQuery("#wpns_nav_message").empty(),jQuery("#wpns_nav_message").append("<div id='notice_div' class='mo2fa_overlay_error'><div class='mo2fa_popup_text'>&nbsp; &nbsp; <b>Please register with miniOrange for using this  method</b> </div></div>"),window.onload=nav_popup())}),mo2fa_viewMethod.calledTimes=0,null==document.getElementById("defaultOpen")){var e,a=document.getElementById("mo2f_user_profile_table");null!==a&&a.children[1].setAttribute("id","defaultOpen")}document.getElementById("defaultOpen").click(),jQuery("#textbox-SMS").intlTelInput(),jQuery("#textbox-WHATSAPP").intlTelInput();